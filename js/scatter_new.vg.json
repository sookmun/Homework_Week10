{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "height": 500,
    "width": 500,
    "title": "Countries GDP",
    "data": {
      "url": "https://raw.githubusercontent.com/sookmun/Homework_Week10/main/Data/2020.csv"
    },
      "params": [
      {
        "name": "GDP",
        "value": 0,
        "bind": {"input": "range", "min": 0, "max": 12}
      }
    ],
    "selection": {
      "continent_selection": {
        "type": "multi", "fields": ["Regional_indicator"], "bind": "legend"
      }
    },
    "mark": "point",
    "encoding": {
      "x": {
        "field": "Ladder Score",
        "type": "quantitative",
        "title":"Hapiness",
        "axis": {"tickCount": 7}
        
      },
      "y": {
        "field": "Generosity",
        "type": "quantitative",
        "axis": { "tickCount": 6}
        
      },
      "size": {"field": "Logged GDP per capita", "type": "quantitative",  "scale": {"range": [30, 500]}
            },
      "fill": {
          "field": "Regional_indicator",  
          "type": "nominal",
          "scale": {
              "domain":[
                "Western Europe",
                "North America and ANZ",
                "Middle East and North Africa",
                "Latin America and Caribbean",
                "Central and Eastern Europe",
                "East Asia",
                "Southeast Asia",
                "Commonwealth of Independent States",
                "Sub-Saharan Africa",
                "South Asia"
              ], 
              "range": [
                "#a6cee3",
                "#1f78b4",
                "#b2df8a",
                "#33a02c",
                "#fb9a99",
                "#e31a1c",
                "#fdbf6f",
                "#ff7f00",
                "#cab2d6",
                "#6a3d9a"
              ]}},
      "color": 
      {"field": "Regional_indicator", 
      "type": "nominal",
      "scale": {
          "domain":[
            "Western Europe",
            "North America and ANZ",
            "Middle East and North Africa",
            "Latin America and Caribbean",
            "Central and Eastern Europe",
            "East Asia",
            "Southeast Asia",
            "Commonwealth of Independent States",
            "Sub-Saharan Africa",
            "South Asia"
          ],
          "range": [
            "#a6cee3",
            "#1f78b4",
            "#b2df8a",
            "#33a02c",
            "#fb9a99",
            "#e31a1c",
            "#fdbf6f",
            "#ff7f00",
            "#cab2d6",
            "#6a3d9a"
          ]}
      },
      "opacity": {
          "condition": {
              "selection": "continent_selection", 
              "value": 0.8},
              "value": 0.2
      },
      "tooltip": [
        {"field": "Country name", "type": "nominal"},
            {"field": "Regional_indicator", "type": "nominal"},
            {"field": "Ladder score", "type": "quantitative", "format": ","},
            {"field": "Logged GDP per capita", "type": "quantitative", "format": ","},
            {"field": "Generosity", "type": "quantitative", "format": ","}
      ]
  
    }
  }
  